<html>
  <script>     
    // Estruturas de definição de tipo
    class Lancamento {

      constructor (categoria, tipo, valor) {
        if (tipo !== "receita" && tipo !== "despesa") {
          throw new Error("Lançamento Inválido: Tipo deve ser receita ou despesa")
        }
        if (valor <= 0) {
          throw new Error("Lançamento Inválido: Valor deve ser maior que zero")
        }
        if (categoria === "") {
          throw new Error("Lançamento Inválido: A Categoria é obrigatório")
        }
        this.categoria = categoria
        this.tipo = tipo 
        this.valor = valor
      }
    }

    function arredondar (valor) {
      return Math.round(valor*100)/100
    }

    function calcularJuros (valor) {
      juros = arredondar(valor * 0.1)
      return juros
    }

    function calcularRendimentos (valor) {
      rendimentos = arredondar(valor * 0.005)
      console.log(rendimentos)
      return rendimentos 
    }

    function calcularSaldo (mes, saldoInicial, lancamentos) {
      console.log(mes)
      saldo = saldoInicial
      for (lancamento of lancamentos) {
        if (lancamento.tipo === "receita") {
          saldo += lancamento.valor
        } 
        if (lancamento.tipo === "despesa") {
          saldo -= lancamento.valor
        }
      }
      estaNegativo = saldo < 0 
      if (estaNegativo) {
        juros = calcularJuros(saldo)
        saldo = arredondar(saldo + juros)
      } else {
        rendimentos = calcularRendimentos(saldo)
        saldo = arredondar(saldo + rendimentos)
      }
      return saldo 
    
    }
    saldoInicial = 0
    lancamentosJaneiro = [
    new Lancamento("Salário", "receita", 3000),
    new Lancamento("Aluguel", "despesa", 1000),
    new Lancamento("Conta de Luz", "despesa", 200),
    new Lancamento("Conta de Água", "despesa", 100),
    new Lancamento("Internet", "despesa", 100),
    new Lancamento("Transporte", "despesa", 300),
    new Lancamento("Lazer", "despesa", 300),
    new Lancamento("Alimentação", "despesa", 500),
    new Lancamento("Condomínio", "despesa", 300),
    new Lancamento("Farmácia", "despesa", 100)
    ]
    saldo1 = calcularSaldo("janeiro", saldoInicial, lancamentosJaneiro)
    console.log(saldo1);
    lancamentosFevereiro = [
    new Lancamento("Salário", "receita", 3000),
    new Lancamento("Aluguel", "despesa", 1200),
    new Lancamento("Conta de Luz", "despesa", 250),
    new Lancamento("Conta de Água", "despesa", 100),
    new Lancamento("Internet", "despesa", 100), 
    new Lancamento("Transporte", "despesa", 500),
    new Lancamento("Alimentação", "despesa", 1000),
    new Lancamento("Condomínio", "despesa", 400)
    ]
    saldo2 = calcularSaldo("fevereiro", saldo1, lancamentosFevereiro) 
    console.log(saldo2)
    lancamentosMarco = [
    new Lancamento("Salário",  "receita", 4000),
    new Lancamento("Aluguel",  "despesa", 1200),
    new Lancamento("Conta de Luz",  "despesa", 200),
    new Lancamento("Conta de Água",  "despesa", 100),
    new Lancamento("Internet",  "despesa", 200),
    new Lancamento("Transporte",  "despesa", 500),
    new Lancamento("Lazer",  "despesa", 800),
    new Lancamento("Alimentação",  "despesa", 1000),
    new Lancamento("Condomínio",  "despesa", 400)
    ]
    saldo3 = calcularSaldo("marco", saldo2, lancamentosMarco)
    console.log(saldo3)
    acumuladoAno = saldoInicial + saldo1 + saldo2;
    console.log("ano");
    console.log(acumuladoAno);

    console.log("Quantidade de lançamentos em janeiro:", lancamentosJaneiro.length)
    lancamentosJaneiro[10] = { categoria: "Financiamento", tipo: "despesa", valor: 200 }
    for (lancamento of lancamentosJaneiro) {
      console.log(lancamento.categoria, lancamento.valor)
    }

    nome = "Rodrigo Branas"
    idade = 38 
    email = "rodrigo@branas.io"
    casado = true
    
    pessoa = { nome: "Rodrigo Branas", idade: 38, email: "rodrigo@branas.io", casado: true }
    console.log(pessoa)

  </script>
  <body>
    <h1>Hello World - Primeiros passos na programação</h1>
  </body>
</html>


